/**
 * @license angular-treeview 0.5
 * Copyright (c) 2013, Kavitha K Gowd, kavithakgowd@gmail.com
 * All rights reserved.
 * http://opensource.org/licenses/BSD-2-Clause
 * Date: 2013-09-24
 */

angular.module("ui.treeview.tpls", ["template/treeview/treeview.html", "template/treeview/tree_view.html"]); angular.module("ui.treeview", ["ui.treeview.tpls", "template/treeview/tree_view.html"]).filter("search", [function () { return function (e, d, g) { if (d != null && d != "") { function c(h) { var j = undefined; if ((h[g]).toLowerCase().indexOf(d.toLowerCase()) != -1) { return angular.copy(h) } if (h.Children) { var j = undefined; for (var k = 0; k < h.Children.length; k++) { var l = undefined; l = c(h.Children[k]); if (l != undefined) { if (j == undefined) { j = angular.copy(h); j.Children = [] } j.Children.push(l) } } } if (j != undefined) { return j } else { return undefined } } var f = []; for (var b = 0; b < e.length; b++) { var a = undefined; a = (c(e[b])); if (a != undefined) { f.push(a) } } return f } else { return e } } }]).controller("TreeViewController", ["$scope", "$attrs", "$filter", function (c, b, e, a) { var d = []; c.dataCheck = b.check || false; c.isChecked = function (f, g) { if (f == true) { d.push(g) } }; c.initCheckBox = function (f) { f.dataCheck = b.check || false; if (b.expandAll == true || b.expandAll == "true") { f.hide = "show" } }; c.originalData = angular.copy(c.treeData); c.$watch("searchModel", function (f) { c.treeBindData = e("search")(c.originalData, c.searchModel, b.displayAttr) }); c.$parent[b.getSelection] = function () { return d }; c.toggleShow = function (f) { if (f.hide == "" || f.hide == undefined) { f.hide = "show" } else { f.hide = "" } }; c.check = function (j, g) { if (!g) { j.confirm = true } else { j.confirm = false } if (b.checkRec != "false" && j.Children) { var f = j.Children.length; for (var h = 0; h < f; h++) { c.check(j.Children[h], g) } } } }]).directive("treeview", function () { return { restrict: "EA", controller: "TreeViewController", transclude: true, replace: true, compile: function (b, a) { }, scope: { treeData: "=treeviewData", uniqueId: "@", displayAttr: "@", dataCheck: "@", getSelection: "@", dataCheckRec: "@", expandAll: "@", searchModel: "=searchModel" }, templateUrl: "template/treeview/treeview.html" } }); angular.module("template/treeview/treeview.html", []).run(["$templateCache", function (a) { a.put("template/treeview/treeview.html", '<ul style="padding:0px; margin:0px;"><li ng-repeat="data in treeBindData"ng-include="\'template/treeview/tree_view.html\'"></li></ul>') }]); angular.module("template/treeview/tree_view.html", []).run(["$templateCache", function (a) { a.put("template/treeview/tree_view.html", "<div class='list-item' ng-init='initCheckBox(data)'><div ng-show='data.Children' ng-class='{show :!data.hide, hide:data.hide}' class='pull-left' ng-click='toggleShow(data)'><img class='rightarrow' width='16px' height='16px' style='max-width: 16px' /></div> <div ng-show='data.Children' ng-class='{hide:!data.hide, show:data.hide }' class='pull-left' ng-click='toggleShow(data)'><img class='downarrow' width='16px' height='16px' style='max-width: 16px' /> </div> <div ng-show='!data.Children' ng-class='{show :!data.hide, hide:data.hide}' class='pull-left'></div> <div class='item' style='padding-left: 0px'><span ng-show=\"data.dataCheck\" type=\"checkbox\" style=\"margin-bottom: 7px;\" ng-class=\"{opacity:data.partial == true}\" ng-click=\"check(data, data.confirm)\" class=\"treecheckBox\"> <img ng-show=\"data.confirm\" class=\"checkBox checkBox-icon\"/></span><span ng-click=\"check(data, data.confirm)\">{{data[displayAttr]}}</span> </div> </div> <ul ng-class='{display:!data.hide, displayshow:data.hide}' style='padding-left: 20px'> <li ng-repeat='data in data.Children' ng-include='\"template/treeview/tree_view.html\"' style='padding-left: 0px;'></li></ul>") }]);